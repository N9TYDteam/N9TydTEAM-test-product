-- От: N9TydTEAM

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")


local accessGui = Instance.new("ScreenGui", playerGui)
accessGui.Name = "AccessKeyGUI"
accessGui.ResetOnSpawn = false

local bg = Instance.new("Frame", accessGui)
bg.Size = UDim2.new(1, 0, 1, 0)
bg.BackgroundColor3 = Color3.new(0, 0, 0)
bg.BackgroundTransparency = 0.4

local keyFrame = Instance.new("Frame", accessGui)
keyFrame.Size = UDim2.new(0, 300, 0, 170)
keyFrame.Position = UDim2.new(0.5, -150, 0.5, -85)
keyFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
keyFrame.BorderSizePixel = 0

local title = Instance.new("TextLabel", keyFrame)
title.Size = UDim2.new(1, 0, 0.3, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Введите ключ(маленькие буквы замените на главные при возможности)"
title.TextColor3 = Color3.new(1, 1, 1)
title.TextScaled = true
title.Font = Enum.Font.Arcade

local textbox = Instance.new("TextBox", keyFrame)
textbox.Size = UDim2.new(0.85, 0, 0.25, 0)
textbox.Position = UDim2.new(0.075, 0, 0.4, 0)
textbox.Font = Enum.Font.Arcade
textbox.TextScaled = true
textbox.Text = ""
textbox.PlaceholderText = "faqnteam.tilda.ws сайт с ключем"
textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
textbox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
textbox.BorderSizePixel = 0

local button = Instance.new("TextButton", keyFrame)
button.Size = UDim2.new(0.6, 0, 0.2, 0)
button.Position = UDim2.new(0.2, 0, 0.75, 0)
button.Text = "ПОДТВЕРДИТЬ"
button.Font = Enum.Font.Arcade
button.TextScaled = true
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
button.BorderSizePixel = 0

local correctKey = "2FFA567VCA"


local function launchMainGui()
	accessGui:Destroy()

	local screenGui = Instance.new("ScreenGui", playerGui)
	screenGui.Name = "UltrakillFlyGui"
	screenGui.ResetOnSpawn = false
	screenGui.IgnoreGuiInset = true
	screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	
	local image = Instance.new("ImageLabel", screenGui)
	image.Size = UDim2.new(0.6, 0, 0.8, 0)
	image.Position = UDim2.new(0.2, 0, 0.05, 0)
	image.BackgroundTransparency = 1
	image.Image = "rbxassetid://90522214467429"
	image.ScaleType = Enum.ScaleType.Fit

	local dragging = false
	local dragOffset = Vector2.new(0, 0)

	image.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			local mouseLocation = UIS:GetMouseLocation()
			local imagePosition = image.AbsolutePosition
			dragOffset = mouseLocation - imagePosition
		end
	end)

	UIS.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = false
		end
	end)

	RunService.RenderStepped:Connect(function()
		if dragging and image.Visible then
			local mouseLocation = UIS:GetMouseLocation()
			local newPos = mouseLocation - dragOffset
			local screenSize = workspace.CurrentCamera.ViewportSize
			local x = math.clamp(newPos.X, 0, screenSize.X - image.AbsoluteSize.X)
			local y = math.clamp(newPos.Y, 0, screenSize.Y - image.AbsoluteSize.Y)
			image.Position = UDim2.new(0, x, 0, y)
		end
	end)

	
	local label = Instance.new("TextLabel", screenGui)
	label.Size = UDim2.new(1, 0, 0.15, 0)
	label.Position = UDim2.new(0, 0, 0.85, 0)
	label.BackgroundTransparency = 1
	label.Text = "BY N9TydTEAM"
	label.TextColor3 = Color3.fromRGB(255, 0, 0)
	label.TextScaled = true
	label.Font = Enum.Font.Arcade
	label.TextStrokeTransparency = 0.6
	label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)

	task.spawn(function()
		while true do
			label.TextColor3 = Color3.fromRGB(255, 0, 0)
			wait(0.3)
			label.TextColor3 = Color3.fromRGB(100, 0, 0)
			wait(0.3)
		end
	end)

	
	local flyButton = Instance.new("TextButton", image)
	flyButton.Size = UDim2.new(0, 240, 0, 90)
	flyButton.Position = UDim2.new(0, 146, 0, 0)
	flyButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	flyButton.Text = "fly by n9team"
	flyButton.TextColor3 = Color3.fromRGB(255, 0, 0)
	flyButton.Font = Enum.Font.Arcade
	flyButton.TextScaled = true
	flyButton.TextStrokeTransparency = 0.5
	flyButton.BorderSizePixel = 0

	
	local infButton = Instance.new("TextButton", image)
	infButton.Size = UDim2.new(0, 240, 0, 90)
	infButton.Position = UDim2.new(0, 438, 0, 0)
	infButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	infButton.Text = "inf yield"
	infButton.TextColor3 = Color3.fromRGB(255, 0, 255)
	infButton.Font = Enum.Font.Arcade
	infButton.TextScaled = true
	infButton.TextStrokeTransparency = 0.5
	infButton.BorderSizePixel = 0

	
	local hideButton = Instance.new("TextButton", image)
	hideButton.Size = UDim2.new(0, 100, 0, 40)
	hideButton.Position = UDim2.new(1, -250, 0, 5)
	hideButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
	hideButton.Text = "✖"
	hideButton.TextColor3 = Color3.new(1, 1, 1)
	hideButton.Font = Enum.Font.Arcade
	hideButton.TextScaled = true

	
	local showButton = Instance.new("TextButton", screenGui)
	showButton.Size = UDim2.new(0, 120, 0, 40)
	showButton.Position = UDim2.new(0, 10, 1, -50)
	showButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
	showButton.Text = "Show"
	showButton.TextColor3 = Color3.new(1, 1, 1)
	showButton.Font = Enum.Font.Arcade
	showButton.TextScaled = true
	showButton.Visible = false

	hideButton.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			image.Visible = false
			showButton.Visible = true
		end
	end)

	showButton.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			image.Visible = true
			showButton.Visible = false
		end
	end)

	-- Fly функционал
	local flying = false
	local flySpeed = 50
	local flyBodyVel
	local flyConn

	local function startFly()
		if flying then return end
		flying = true

		local root = player.Character:WaitForChild("HumanoidRootPart")
		flyBodyVel = Instance.new("BodyVelocity")
		flyBodyVel.Velocity = Vector3.zero
		flyBodyVel.MaxForce = Vector3.new(1,1,1) * 1e5
		flyBodyVel.Parent = root

		flyConn = RunService.RenderStepped:Connect(function()
			if flying then
				local cam = workspace.CurrentCamera
				local dir = Vector3.zero

				if UIS:IsKeyDown(Enum.KeyCode.W) then dir += cam.CFrame.LookVector end
				if UIS:IsKeyDown(Enum.KeyCode.S) then dir -= cam.CFrame.LookVector end
				if UIS:IsKeyDown(Enum.KeyCode.A) then dir -= cam.CFrame.RightVector end
				if UIS:IsKeyDown(Enum.KeyCode.D) then dir += cam.CFrame.RightVector end
				if UIS:IsKeyDown(Enum.KeyCode.Space) then dir += Vector3.new(0, 1, 0) end
				if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then dir -= Vector3.new(0, 1, 0) end

				if dir.Magnitude > 0 then
					flyBodyVel.Velocity = dir.Unit * flySpeed
				else
					flyBodyVel.Velocity = Vector3.zero
				end
			end
		end)
	end

	local function stopFly()
		flying = false
		if flyBodyVel then flyBodyVel:Destroy() flyBodyVel = nil end
		if flyConn then flyConn:Disconnect() end
	end

	flyButton.MouseButton1Click:Connect(function()
		if not flying then
			startFly()
			flyButton.Text = "Fly: ON"
		else
			stopFly()
			flyButton.Text = "Fly: OFF"
		end
	end)

	infButton.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
		infButton.Text = "Загружено"
	end)
end


local function validateKey()
	if textbox.Text == correctKey then
		launchMainGui()
	else
		player:Kick("cmon get code form our site")
	end
end

button.MouseButton1Click:Connect(validateKey)
textbox.FocusLost:Connect(function(enterPressed)
	if enterPressed then validateKey() end
end)
